CREATE DATABASE bookish;
USE bookish;
CREATE TABLE  Books (
    bookId INTEGER PRIMARY KEY AUTO_INCREMENT,
    name varchar(255),
    author varchar(255),
    isbn varchar(255),
    genre varchar(255),
    numberOfCopiesAvailable INTEGER
);

CREATE TABLE Transactions(
    transactionId INTEGER PRIMARY KEY AUTO_INCREMENT,
    userId INTEGER,
    bookId INTEGER,
    FOREIGN KEY (userId) REFERENCES User(userId),
    FOREIGN KEY (bookId) REFERENCES Books(bookId),
    borrowedDate DATE,
    dueDate DATE,
    returnDate DATE,
    overdue BOOLEAN
);

CREATE TABLE User(
    userId INTEGER PRIMARY KEY AUTO_INCREMENT,
    firstName varchar(255),
    lastName varchar(255)
);


INSERT INTO User(firstName, lastName) VALUES ('Lekshmi','Sudhikumar');
# DELETE FROM User WHERE firstName = 'Lekshmi';
INSERT INTO Books(name,author,genre,numberOfCopiesAvailable) VALUES ('A Brief History Of Time', 'Stephen Hawking','Popular Science',2);
# UPDATE Books SET isbn = 9780553109535 WHERE author = 'Stephen Hawking';
# DELETE FROM Books WHERE author = 'Stephen Hawking';

INSERT INTO Books(name,author,genre,numberOfCopiesAvailable) VALUES ('Building a Second Brain', 'Tiago Forte','Self-help book',1);

CREATE TABLE `technologies` (
                                `id` int(11) NOT NULL AUTO_INCREMENT,
                                `name` varchar(50) NOT NULL,
                                `logoUrl` varchar(200) DEFAULT NULL,
                                PRIMARY KEY (`id`)
);

INSERT INTO `technologies`
(id, name, logoUrl)
VALUES
    (1,'Java','https://pngimage.net/wp-content/uploads/2018/06/java-logo-png-transparent-background-7.png'),
    (2,'Spring','https://www.logolynx.com/images/logolynx/98/980c5fe716efb66c936eebe1937d5489.png'),
    (3,'Thymeleaf','https://www.thymeleaf.org/images/thymeleaf.png'),
    (4,'MySQL','https://www.mysql.com/common/logos/logo-mysql-170x115.png'),
    (5,'HTML','https://www.w3.org/html/logo/downloads/HTML5_Logo_256.png'),
    (6,'CSS','https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/CSS3_logo_and_wordmark.svg/2000px-CSS3_logo_and_wordmark.svg.png');


ALTER TABLE Books ADD totalNumberOfCopies INTEGER;
ALTER TABLE Books ALTER numberOfCopiesAvailable SET DEFAULT 1;
ALTER TABLE Books ALTER totalNumberOfCopies SET DEFAULT 1;